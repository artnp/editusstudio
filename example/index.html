<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="addon/style2.css">
  <link rel='stylesheet' href='https://unpkg.com/pattern.css@1.0.0/dist/pattern.min.css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles-confetti@2.12.0/tsparticles.confetti.bundle.min.js"></script>
  <title>‚úÇÔ∏è[‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‚ö†Ô∏è] ‡∏ã‡πà‡∏≠‡∏°+‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠+‡∏£‡∏µ‡∏ó‡∏±‡∏ä‡∏†‡∏≤‡∏û | Edit us studio</title>
  <style>
    textarea {
        width: 200;
        height: 40;
        text-align: center;
        color: white;
        background-color: red;
        border: none;
        padding: 10px;
        font-size: 140px;
        font-family: Arial, sans-serif;
    }
  .animate {
      animation: bounceEverySecond 20s infinite;
    }
    #up, #down {
  display: inline-block;
  padding: 10px 20px;
  border: 1px solid #ccc;
  border-radius: 5px;
  background-color: #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

#up:hover, #down:hover {
  background-color: #f1f1f1;
}

#up {
  animation: jumpLeft 0.5s ease-in-out infinite alternate;
}

#down {
  animation: jumpRight 0.5s ease-in-out infinite alternate;
}

@keyframes jumpLeft {
  0% {
    transform: translateX(0px);
  }
  50% {
    transform: translateX(-5px);
  }
  100% {
    transform: translateX(0px);
  }
}

@keyframes jumpRight {
  0% {
    transform: translateX(0px);
  }
  50% {
    transform: translateX(5px);
  }
  100% {
    transform: translateX(0px);
  }
}
#existing {
  position: absolute;
  top: 0;
  left: 0;
  color: grey;
  font-size: 1.2em; 
}
.floating-reward {
  position: absolute;
  font-size: 24px;
  white-space: nowrap;
  cursor: pointer;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<script>
  if (window.location.href.includes('fbclid')) {
const updatedURL = window.location.href.replace(/[?&]fbclid=[^&#]+/, '').replace(/[&?]$/, '');
window.location.replace(updatedURL);
}
</script>
<body>
<img src="showcase2.png" width="0%">
<div id="punish"></div>
<div class="floating-reward" id="floatingReward"></div>

<div id="point">
  <div id="existing"></div>
  <div id="random-pattern"><h2><div id="header"></div></h2>
  
    <div id="image-comparison-slider" class="animate">     
      <div id="original"></div>
      <div class="img-wrapper">
        <div id="retouch"></div>
      </div>
      <div class="handle">
        <div class="handle-line"></div>
        <div class="handle-circle">
          <i class="fas fa-chevron-left"></i>
          <i class="fas fa-chevron-right"><h1><div id="randomword"></div></h1></i>
        </div>
        <div class="handle-line"></div>
      </div>
    </div>
<div style="background-color: black; color: white;">
  </div>
  <br>
  <div class="animate__animated animate__fadeIn animate__slow animate__slower animate__delay-5s"><div id="randomword2"></div></div>
  <div class="ticker-container"></div>
<table>
  <td><button id="up" onclick="up(); randomPl();"><h1 id="buttonText">‚á¶</h1></button> | <button id="down" onclick="down(); randomPl();"><h1 id="buttonText2">‚á®</h1></button></td>
</table>


<br><span id="bomb" style="color: yellow; background-color: red;"><h1 id="countdown"></h1></span>
</div>
<div class="lines">
  <div class="line"></div>
  <div class="line"></div>
  <div class="line"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdn.jsdelivr.net/npm/tsparticles-confetti@2.12.0/tsparticles.confetti.bundle.min.js"></script>
<script src="punish.js"></script>
<script src="../x/ads.js"></script>
<script>

document.getElementById("punish").style.display = "none";
document.getElementById("floatingReward").style.display = "none";

punish = document.getElementById('punish');
punish.style.top = Math.floor(Math.random() * window.innerHeight) + 'px';
punish.style.left = Math.floor(Math.random() * window.innerWidth) + 'px';

///////// Youtube API
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}
shuffle(videoIds);

var currentVideoIndex = 0;
var player;

function randomPl() {
  if (player) {
    player.playVideo();

    shuffle(videoIds);
    currentVideoIndex++;

    if (currentVideoIndex < videoIds.length) {
      player.loadVideoById(videoIds[currentVideoIndex]);
    } else {
      shuffle(videoIds);
      currentVideoIndex = 0;
      player.loadVideoById(videoIds[currentVideoIndex]);
    }
  } else {
    // Handle player unavailability (e.g., display a message or retry after a delay)
    console.log("Player not yet available. Please try again later.");
  }
}



function onYouTubeIframeAPIReady() {
  player = new YT.Player("punish", {
    height: "360",
    width: "640",
    videoId: videoIds[currentVideoIndex],
    playerVars: {
      autoplay: 1,
      controls: 0,
      showinfo: 0,
      iv_load_policy: 3,
      modestbranding: 1
    },
    events: {
      onReady: onPlayerReady,
      onError: onPlayerError,
      onStateChange: onPlayerStateChange, // Add this event handler
    },
  });
}
function onPlayerReady(event) {
  event.target.playVideo();
  event.target.setVolume(80);
}

function onPlayerError(event) {
  randomPl();
}
function onPlayerStateChange(event) {
  if (event.data === YT.PlayerState.ENDED) {
    // Show an alert when the video ends
    document.getElementById("punish").style.display = "none";
    document.body.style.transition = 'background 2s';
    document.body.style.background = 'black';
    setTimeout(() => {
  window.location.href = "https://artnp.github.io/editusstudio/example/simulator";
    }, 3000);
  }
}
/////////////////// END Youtube

        function removeUrl(str) {
                 return str.split('?')[1]
                }
                            function GetName(str) {
                    return str.split('index.html?')[1]
                }
            url = decodeURIComponent(window.location.href)
            x = Number(removeUrl(url))

    testimageUrl = 'img/' + (x) + ' (1).jpg';
    testimg = new Image();
    testimg.src = testimageUrl;
function checkImageExists(testimgUrl, successCallback, errorCallback) {
  testimg.onload = successCallback;
  testimg.onerror = errorCallback;
}
checkImageExists(testimageUrl, function() {
}, function() {
    window.location.href = window.location.href.split("?")[0] +'?1';
});

function checkImageExistence(x) {
    var testImageUrl = 'img/' + (x + 1) + ' (1).jpg';
    var testImage = new Image();
    testImage.src = testImageUrl;
    function onSuccess() {
        checkImageExistence(x + 1);
    }
    function onError() {
        document.getElementById("existing").innerText = '[ ' + (x+1) + ' ]';
    }
    testImage.onload = onSuccess;
    testImage.onerror = onError;
}
checkImageExistence(x);

document.querySelector('.animate').classList.add('animate__animated', 'animate__bounce');
const words = ["Edit","Us","‚ù§Ô∏è"];
const header = document.getElementById("header");
function generateRandomWord() {
  const randomIndex = Math.floor(Math.random() * words.length);
  return words[randomIndex];
}
setInterval(() => {
  header.textContent = generateRandomWord();
}, 700);

document.getElementById('bomb').classList.add('animate__animated', 'animate__swing','animate__slower', 'animate__infinite')
function up() {
        var nextImageSrc = 'img/' + (x + 1) + ' (1).jpg';
        var img = new Image();
        img.src = nextImageSrc;
        img.onload = function() {
            x++;
            updateImages();
           document.getElementById('up').disabled = false;
        };
        img.onerror = function() {
            x-1;
            updateImages();
            document.getElementById('up').disabled = true;
        };
        raning()
        document.getElementById("randomword2").style.backgroundColor = getRandomColor();
              //Reset countdown to 39.9
              countdownValue = 29.9;
              countdownElement.innerHTML = 'üíÄ' + countdownValue.toFixed(1) + 'üí•';
              document.getElementById('countdown').classList.add('animate__animated', 'animate__rubberBand', 'animate__infinite')
              setTimeout(function() {
                const sets = [
            ['üß°', 'üß°'],
            ['(x )', '( x)'],
            ['‚á®', '‚á¶'],
            ['>>', '<<'],
            ['^', '^'],
            ['\'', '\''],
            [' o', 'o '],
            ['üíç', 'üëà'],
            ['U', 'U']
        ];
        const randomIndex = Math.floor(Math.random() * sets.length);
        const randomSet = sets[randomIndex];
        document.getElementById('buttonText').innerText = randomSet[0];
        document.getElementById('buttonText2').innerText = randomSet[1];
}, 23000);
              clearInterval(interval);
              interval = setInterval(countdown, 100);
    }

    function down() {
        var nextImageSrc = 'img/' + (x - 1) + ' (1).jpg';
        var img = new Image();
        img.src = nextImageSrc;
        img.onload = function() {
            x--;
            updateImages();
           document.getElementById('down').disabled = false;
        };
        img.onerror = function() {
            x+1;
            updateImages();
            document.getElementById('down').disabled = true;
        };
              countdownValue = 29.9;
              countdownElement.innerHTML = 'üíÄ' + countdownValue.toFixed(1) + 'üí•';
              document.getElementById('countdown').classList.add('animate__animated', 'animate__rubberBand', 'animate__infinite')
              setTimeout(function() {
                const sets = [
            ['üß°', 'üß°'],
            ['(x )', '( x)'],
            ['‚á®', '‚á¶'],
            ['>>', '<<'],
            ['^', '^'],
            ['\'', '\''],
            [' o', 'o '],
            ['üíç', 'üëà'],
            ['U', 'U']
        ];
        const randomIndex = Math.floor(Math.random() * sets.length);
        const randomSet = sets[randomIndex];
        document.getElementById('buttonText').innerText = randomSet[0];
        document.getElementById('buttonText2').innerText = randomSet[1];
}, 23000);
              clearInterval(interval);
              interval = setInterval(countdown, 100);
    }

    function updateImages() {
        document.getElementById('original').innerHTML = '<img src="img/' + x + ' (1).jpg' + '" >';
        document.getElementById('retouch').innerHTML = '<img src="img/' + x + ' (2).jpg' + '">';
        document.getElementById('down').disabled = false;
        document.getElementById('up').disabled = false;
  document.getElementById('buttonText').innerText = '‚á¶';
  document.getElementById('buttonText2').innerText = '‚á®';

    }
    updateImages()

 if (x < 1){
  window.location.href = window.location.pathname + '?1'
 }
function getRandomColor() {
  const letters = '0123456789ABCDEF';
  let color = '#';
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}
const randomDiv = document.getElementById("randomword2");
randomDiv.style.backgroundColor = getRandomColor();


// Get the countdown element
var countdownElement = document.getElementById('countdown');
    var countdownValue = 29.9;
    function countdown() {
      countdownValue -= 0.1;
      countdownElement.innerHTML = 'üíÄ'+countdownValue.toFixed(1)+'üí•'

      if (countdownValue <= 0) {
        localStorage.setItem("editus_points", Number(localStorage.getItem("editus_points")) - 1);
        document.getElementById("point").innerHTML = `<span class="animate__animated animate__fadeOut animate__delay-3s"><center><h1>‡∏à‡πà‡∏≤‡∏¢<br><span style="color: red; background-color: black;">- 1</span><br><img src="coin.png" width="33%" class="animate__animated animate__zoomOutDown"></h1></center></span>`
        setTimeout(function() {    
    
          document.body.style.transition = 'background 2s';
          document.body.style.background = 'Maroon';
          var punishDiv = document.getElementById("punish").style.display = "block";
          document.querySelector('#punish').classList.add('animate__animated', 'animate__zoomIn');

// Wait for 5 seconds
setTimeout(() => {
  // Reward
  document.getElementById("floatingReward").style.display = "block";
  document.getElementById("floatingReward").innerHTML = '<a href="javascript:void(0);"><img src="coin05.png" width="17%" class="animate__animated animate__rotateIn animate__infinite"></a>'
  const floatingReward = document.getElementById('floatingReward');
  let xPos = Math.random() * window.innerWidth;
  let yPos = Math.random() * window.innerHeight;
  let xSpeed = (Math.random() - 0.5) * 4;
  let ySpeed = (Math.random() - 0.5) * 4;

  floatingReward.addEventListener('click', () => {
    confetti({
      particleCount: 100,
      spread: 70,
      origin: { x: xPos / window.innerWidth, y: yPos / window.innerHeight },
    });
    localStorage.setItem("editus_points", Number(localStorage.getItem("editus_points")) + 0.5);
    document.getElementById("floatingReward").innerHTML = `<center><h1 class="animate__animated animate__zoomInUp">+ 0.5</h1><center>`
    setTimeout(() => {
      floatingReward.style.display = 'none';
      const randomIndex = Math.floor(Math.random() * ads.length);
      var screenWidth = window.screen.width;
      var screenHeight = window.screen.height;
      var popupWidth = Math.round(screenWidth * 0.9);
      var popupHeight = Math.round(screenHeight * 0.9);
      var popup = window.open(ads[randomIndex], "_blank", "width=" + popupWidth + ", height=" + popupHeight + ", resizable=yes, scrollbars=yes");
    }, 2500);
  });

  function moveReward() {
    xPos += xSpeed;
    yPos += ySpeed;
    floatingReward.style.left = xPos + 'px';
    floatingReward.style.top = yPos + 'px';
    if (xPos + floatingReward.offsetWidth > window.innerWidth || xPos < 0) {
      xSpeed = -xSpeed;
    }
    if (yPos + floatingReward.offsetHeight > window.innerHeight || yPos < 0) {
      ySpeed = -ySpeed;
    }
    requestAnimationFrame(moveReward);
  }
  moveReward();
}, 10000); 

        }, 4000);
        clearInterval(interval);
      }
    }
    var interval = setInterval(countdown, 100);
 
</script>
  <script src='addon/vanilla-tilt.min.js'></script>
  <script src="addon/script2.js"></script>
  <script src="word_random.js"></script>
</body>
</html>