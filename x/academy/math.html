<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
<title>Academy Project</title>
<style>
   body {
      display: flex;
      background-color: #F0F0B5;
      font-family: system-ui,-apple-system,system-ui,"Helvetica Neue",Helvetica,Arial,sans-serif;
      font-size: 16px;
      font-weight: 600;
      overflow: hidden;
   }
   .split {
      width: 50%;
      height: 72vh;
      position: relative;
   }
   #player {
      width: 100%;
      height: 90%;
      position: absolute; 
      top: 11%;
      border-radius: 19px;
      overflow: hidden;
      z-index: 1;
   }
   #nextButton {
      display: block;
      padding: 20px 40px;
      font-size: 18px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      margin-top: 10px;
      position: absolute;
      top: 81%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: background-color 0.3s ease;
      z-index: 9998; 
   }

   #nextButton:hover {
      color: #000;
      background-color: #F0F0B5;
   }
   #point {
   position: fixed;
   bottom: 0%;
   left: 45%;
   z-index: 9999; /* Adjust the z-index value as needed */
}
   #videoTitle {
      position: absolute; 
      top: 2%;
      left: 50%;
      transform: translate(-50%, -50%);
   }
   #progressBar {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 8px;
      background-color: #ddd;
      border-radius: 4px;
   }
   #progressLast {
      height: 100%;
      background-color: #28a745;
      border-radius: 4px;
      transition: width 0.3s ease; /* Adding transition for smoothness */
   }
   #progressGoal {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 100%;
      background-color: #fff;
      border-radius: 4px;
      width: 0; /* Initially width is 0 */
   }
   #goalFlag {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 20px;
      height: 20px;
      background-color: #ffc107;
      border-radius: 50%;
      transform: translateY(-50%);
      animation: pulse 1.5s infinite; /* Adding pulse animation */
      display: none; /* Initially hidden */
   }
   @keyframes pulse {
      0% {
         transform: scale(0.8);
      }
      50% {
         transform: scale(1);
      }
      100% {
         transform: scale(0.8);
      }
   }
   #drawFrame {
    width: 100%; /* Full width of the viewport */
    height: 100%; /* Full height of the viewport */
}
</style>
</head>
<body>
    <h1 id="videoTitle"></h1>
    <div class="split">
        <br>
        <div id="player"></div>
    </div>
    <div class="split">
        <br><br><br>
        <iframe src="draw.html" id="drawFrame" frameborder="0"></iframe>
      </div>

    <div id="point"></div>
    <center><button id="nextButton">>> ไปต่อ >>></button></center>

    <div id="progressBar">
      <div id="progressLast"></div>
      <div id="progressGoal"></div>
      <div id="goalFlag"></div>
  </div>

<script>
    const videoIds = [
'C6ICMYfwhP0',
'xDNXLJsl308',
'BDyIaONVaSo',
'IsI5tTuH1_U',
'k1WJ_oCXWdU',
'm9eAt0Antf4',
'yRUW8s1WJuo',
'LhX3ck2bV00',
'uw5vryvxpkg',
'SgljUYeCbak',
'm-lP1VsGN90',
'1Wh3Y438X7c',
'cSq_cxXg7jM',
'VePeCYSZSEs',
'jOO9Zicgj0A',
'HL90Nh5rLU8',
'yMBqOPXvNvo',
'WThV-cUsbW0',
'iniTlst_ptk',
'FaOF6el8cXg',
'MEdUYwodQUA',
'JLtFTs4xLm4',
'WyJbR1Ic9Ts',
'3yuWnnrHp24',
'm5ZJ0DLAhu0',
'oHJ05cP1pyM',
'BSVtN_nGg5c',
'w4aY0w_j99I',
'gylBNAD6ixg',
'1MEIC6vCEcw',
'B2yDdEPBz3c',
'B6WfappLC3o',
'6zsvCi61ghQ',
'JH7hNeM2Tgo',
'4Oi6PJK8ZNY',
'c0Wtx_IIphA',
'ciz00I7PX_M',
'Xd97ypeqjUg',
'vVn5Ssw5xJg',
'lOLa4qbpQSQ',
'TYz8NSWgXn4',
'y-z2OGTJhLw',
'HZQClVQRsDs',
'jfxnPF3LtZQ',
'wpo1LikCYLQ',
'46aF6my9JZ8',
'h5gOIBXawLk',
'6vm5h9vVASw',
'Fbq5DcDj-0Y',
'Zgk1JYL8ALU',
'o1BlBhCdbm8',
'cE-b1cfmp5I',
'0B4HU2BREfQ',
'xqjDrZYeYS0',
'jqll8GeODbY',
'd4J1Rjt9at0',
'420Sru7UW64',
'Ld9l9D5s9Wk',
'a8PnqyekGP8',
'LmJy2STEJ64',
'k5FRoA_N7nI',
'uBZWyOeiaAI',
'zHx5U-u21bU',
'jU9x7bBLcWY',
'tCSTeebGCrA',
'LLt93T9Fa_s',
'AJ5Iq0jAi7c',
'V_2Vfu6LCDI',
'Y-JvL70LvHw',
'lAga9CcUpAw',
'7O5bPzg0ioY',
'yE-UHjXQnAg',
'FNWeodtfmUI',
'oV4EUvw4z3s',
'Ndeb2cvih1A',
'pZv-sHy_Gh4',
'abb0tmwVtmA',
'vT0_TR-3iqE',
'XIBDW3Op3Jg',
'uZoIV69grU8',
'__sKq8GQ4q0',
'vtJ4UegLcD0',
'aEiP231fxM4',
'URhgyivoWok',
'0F79EagQ64o',
'On7-X7nSDnI',
'p_nLrL6aEdY',
'2eDDgJd5RDA',
'DI7ZzwJYX4w',
'30IshkEn8ZY',
'c-j0TUDJkrA',
'9PbEKjoJq3k',
'DqTWZVxnLCA',
'lKuXyvo3Tks',
'1x9odHEiexs',
'CyF8mtoV4WE',
'gUXsEUVO5Lw',
'ddU6xDhY4UQ',
'Bd86U9MkOzY',
'ayjh8bfF2nU',
'RBI8kYcHrHs',
'H8FT4w1QPWI',
'hdsPbJNCqSE',
'X6kgfhrl8b4',
'JB-2ZEq67z0',
'qcPRWzVS0uw',
'TF6V1whK2vM',
'9adgL9eDq2I',
'soJ8viHA1aA',
'KOwR6eOhOt4',
'fPtLtEVJ-U4',
'wUCrRXY1Iug',
'XEmj5P-jpKE',
'A7T6XpB6I_M',
'7qlKHghfSEg',
'XehTH8BPcBc',
'YBWX86Kvnic',
'X1v4ptjflqY',
'3IdfnmcGS7A',
'gODlfr1ktW4',
'ugaGVgERJE4',
'YEpR9qEIQ20',
'oCY0pD5ZmyA',
'yEudesNjZEE',
'2JR7L2MYe7Y',
'vharir9D86o',
'lSxSQCLaTUE',
'XafTcbjzb6c',
'1yh9CVARG4Q',
'bxy0VJNezro',
'E1mu8togb1I',
'c8-fV03cZdw',
'MOpnNLN5uEc',
'nDIT8A5tJRA',
'4RrkR0HFYWo',
'w17eie5nahc',
's85hpbe_6Vs',
'j1nMi4Xpmo8',
'XWxZxNEKDMI',
'7RLJH9VjZUI',
'0PLgidxBSjc',
'y3E1K6uukPA',
'J92f4cFbtCI',
'ajXyZ93Y9aE',
'qbXQFyV84Zc',
'0ciMpkwFJzQ',
'MckDjKQ_kSg',
'Xovji7DeXmo',
'j5uj1WeyTJI',
'2NIJVwOJgPo',
'4c9BG8qAMvo',
'tAId7r8mxTk',
'1dq4PcS_Jwo',
'RREG3IgaXs0',
'iicx6wOR1QA',
'VMfNqY_uc7s',
'W6E6PWUPhvI',
'jbb8KmcwdII',
'ifvkJ3TTSAg',
'HkKVHXQITx4',
'-vYAizONrgE',
'PBvFcUQIQJg',
'cNpiP-eWTrM',
'2gJiDeYsBqs',
'1U0e1BrtZws',
'Ap3yRS9-pDM',
'7dFnXpuvo8M',
'aOXTF1eKDyY',
'4FLkadxRPdc',
'8rUdr5s1Uhg',
'kQJO4kzUFE0',
'hRORb_t6uA4',
'P5CaIfDqTpQ',
'1ydOTM-n8sU',
'NkDzPH6qrvM',
'5g53wqO9fcw',
'IVKPgR_NII0',
'Y4-SmRE7NAg',
'JItt2qeys9M',
'PUaMhFBa0YE',
'J76VwoFJTYc',
'z4OH6_cCNE8',
'wjj4fmtTcro',
'qsoWqmPlK2k',
'0LRjhh5FH1Q',
'fuAy6DMRciE',
'6tEmRZhCi5M',
'C9lLjEpckLg',
'RoBC92sZEUU',
'UtyswiU3f3E',
'Aj8VvHNfS2Q',
'_CbAcqUxV4Q',
'RMgPIiTFNYY',
'xWomJUcWtfc',
'eNsgkoMyZoQ',
'I_edTUAJj_k',
'tv2F_iMgR7M',
'lmj7Q-BiP60',
'EZjZR77cCq0',
'NXrzw0TZTvE',
'DxleJXOVwIc',
'IsYtzI1QYGg',
'lHKCldE4vQA',
'NOCzsZBv7SU',
'xJ0V_YrwbVU',
'DwVf39mINUI',
'CpcucK3z6jY',
'TUs4sDkG_08',
'e_oLFgKeJG0',
'EXuotZhzOTc',
'lSeNKVIP4PY',
'ZZknZSI2oT0',
'XxBGTkdR-pk',
'clyXJmM6OYE',
'IR03h7IXKz0',
'Qj-jhkFWWuw',
'XleZe_lPFa8',
'ITOAUZDf4X4',
'taXUl9k62BY',
'dSmm5l8cu1Q',
'7uRCUKxkTfw',
'K6rWipbN1Gk',
'4w1mu-ZtLp0',
'sR4FeGx2xEc',
'bGa-txGhKLI',
'ERA_TImdDXs',
'7uaViFwGGt4',
'du4ZEjzezJU',
'2DCGbfknk6E',
'KqQzbGGCS1k',
'ByalkXrFd0g',
'1CIFOoYmsFY',
'WtarjPmLexE',
'skkn8Y6pwbM',
'b5Dz8k1Fb3k',
'S7OvjDsxEDU',
'slXMkiocxu8',
's_6aDAiCZpE',
'JJ7YN8EEGbY',
'XV7VmusDtVo',
'gAheSKJm3PA',
'jq3wgZrFpeQ',
'AwRMLBqYH6I',
'8_QUCZJVGwM',
'HYaI430H270',
'Mh65CEzquKQ',
'dk31ES4TEH8',
'HF1bf5rfA3U',
'01_Jvf5bcSw',
'k2VAc4G_QfY',
't7m2nJcAZKU',
'xR6XDt9W2nI',
'YPskFhx7WMc',
'SFrqVfJqAUw',
'qGSy7qdUYi0',
'c8PTUzu9b3I',
'e6cHKC0f1ZQ',
'tVof9X_To1o',
'eDTyizXK1lw',
'nvGGfqvbpPk',
'ChFPVxnxzHg',
'B4T9Cp46kO4',
'F_bV322ZuGA',
'Dx5fa3mYZjs',
'0BzyZKRCGes',
'm4JjgZasxqo',
'6Kv9be-GRqI',
'AEtG9rcRgRU',
'RaIV3X4mJjE',
'3cnu6SMmMh4',
'nn7ckcFLhzE',
'Og9nHMvInjA',
'kpQVu9w_wXU',
'QYI3s4g_bFc',
'_DgZ8gqNeC0',
'F3_0PdZCRl0',
'MqFSL4F2m2o',
'QdbNVtrRMHc',
'_JrcbiFTXOU',
'ME9Dks5KbUs',
'_vZnxQTXRS0',
'LyiI2hmVIXM',
'vMsACORQ6wc',
'KjduVyQiV3E',
'jQoePkQZKdA',
'BEJL4a5LvMs',
'-XpPh2k1eIs',
'PiNFemj3vYE',
'kxLX_h7MEPQ',
'0XSFIl04HbQ',
'AMGHj9s5Vxs',
'pvoMVasesus',
'mouvmyzf714',
'w3Quix8Vu7s',
's3XRvF5ioiU',
'rrAzxqG0_Vo',
'NPEJv7NKP9k',
'QOS57Y7nlqg',
'iXCBBp-OOmg',
'l00joQPOOJo',
'Hh9LpJEb-Ao',
'lgspsTeWdyY',
'eIyMUV9vGLU',
'2bQPBUJvOnA',
'6FxrFa0izaY',
'fpUxL06qdrI',
'_0qABTffBds',
'1I09r1x-3CM',
'pRZaS6SNsn0',
'eDxnxlRU8Z4',
'lojWeeiJN14',
'-wh-QHZXeu8',
'3CRQ4apZkxI',
'JpPpU1uuZ8U',
'TO7ld-JT7Zc',
'0klGlI7e-FI',
'oeGngWUiYr4',
'e6goQXQMCKk',
'4JixWr5mWkQ',
'-Pfr-zBh2WE',
'JsCodxcXUGg',
'Y1BLAIjckE0',
'bnHp_jfbs2M',
'F9FBwzpxuas',
'gJBiTmV-q9w',
'4TAagCqPwXY',
'DeuUy1xHkdE',
'PSnY9Cbq9X0',
'8Kv3Mhs2hO0',
'FTGutF8Nlm0',
'A35xzd45FYw',
'BeJi8OJlUkw',
'dWCIKYPCujs',
'AIKgq7-TLiw',
'R0jXNfB9Bp0',
'vVd89q00k0Y',
'CNtR0EjJMfk',
'6pUCHufAvbY',
'MBpaEj-Mr5k',
'XczWhxh4zDA',
'aRfDowXP7Wo',
'W0Wwwe1ZhDQ',
'VhKtjaMOTmA',
'WqkbpbgEh1o',
's89c5WZwzZ4',
'JVxU1YIhYQY',
'Lw_VWcjiOsE',
'E_LVQnHNbNs',
'7TVbeeFSMnU',
'3UuG737YJ_Y',
'ULf1MnfLepA',
'zw9i4NVJBSk',
'jcTiY9SisoA',
'UyMv_RRzuSM',
'-hqeyRhaDuw',
'bmuo_kJPdLQ',
'1MJq0k_ht9Y',
'vy8vPiZ83zI',
'Cb-w4rKndtE',
'Lizw4ceN6pQ',
'JKIKbYX4jWk',
'gqCamGBSeoU',
'7t-89BX7tUA',
'r7dkpB0JqxI',
'jHY9lC1lrF0',
'loN1o0VeAXw',
'6ADUlRTLC8U',
'J_bd-SH_e9I',
'VwMRdBlLkN0',
'sUdIzT96pw4',
'OH2b8sEZyU4',
'CRrZNlK5hWc',
'rejcFSdaIww',
'aabhAweqxtM',
'EGamNOLguIA',
'44EAYlCQJ0M',
'2tyQSLam4JE',
'BG7j6khDAJ8',
'ZpPiihKIFYU',
'aTk2CFNJxAs',
'VTT-YALHzew',
'cfcvsgrKPZM',
'HneRntVuFk4',
'PH404TxS46o',
'N5WlMoBOyec',
'ZSumuA3d9tc',
'1deg9-XwaWc',
'VVJ6rXl8_s4',
'sDL3WY7MeY4',
'HX_WHCClJJw',
'ENZNv5wKBEs',
'EicD18wNFrg',
'f-MWSolwb6I',
'VGEb3rxexZE',
'aFC8xziy4AI',
'xa2bFJGzcxU',
'LNk8tWYlzmY',
'r6Epx_PqP0g',
'rrJYTfzsqjY',
'DOYcFj3QYsM',
'LzVqcNuL2Is',
'ri8yWAPVUHw',
'sAXC9eS-bmM',
'USH4_P6tbU0',
'wgeyTOLM5r8',
'mQL3w1Rniy8',
'6ER9jc99v8k',
'UNX3U6jgTc4',
'Ntq9Xup2f3U',
'Zk7joUA5Q5c',
'DR8zgLieNYA',
'gLw7-iPxQHE',
'8WzOmhWJjDo',
'pDeKSOtJGCA',
'N2N7VJhcW_s',
'o0QUHD-ZCsk',
'kgze08MASMg',
'ZAJXEV7cX1g',
'Q9694gxGrK0',
'xuSitosZ_UY',
'43isJ6qygxM',
'xh91KqvM7V4',
'tCDlT_pisOE',
'p2TfnS_9QIs',
'p4Wq9InFLd8',
'GLAQf9Q4Jbo',
'7F9LMr_cZkw',
'fsvDcfAYIp8',
'gy7ARlA05OU',
'l29cfhLkPdg',
'xlMzPVWEr3M',
'G43ko_XWjKU',
'hpKZYWUmZ5I',
'zQisYb9rcjE',
'QH50WpasADc',
'gJm-cg2wp-k',
'iAnxGQPyWdY',
'TQgjeZ5u3cQ',
'xLpWS5lhlf4',
'NBgJ68BNeSo',
'Ok8l2JPH-N0',
'6Kb4QyeLNVY',
'BSjULsSVnZw',
'9h_md0kQziA',
'XrTLX1LPlNc',
'MAeF-p9pbEI',
'96Y_b485Zlo',
'NzB1Cr2WBjo',
'KC_zWpjt2qY',
'cWt6KXiblks',
'ZymIhht8JJc',
'jG5C8Pi4Zfk',
'7RlSPoH140Q',
'MHsK1zoAgQs',
'KZjgzyyd3xE',
'6vSlutRxYU0',
'Qst2DOjF2qI',
'DOdqpupztjo',
'RHkHRvHwzWg',
'PA76D_SZyG0',
'UbqOo5PZ_lg',
'2II7op_bT-4',
'F38H7gNyy4A',
'vdGFm3mUuSY',
'QEfYgADF790',
'z3pxAmTofl8',
'9VixGS0pQDs',
'ZWQx00jYE_8',
'bKKGBhUdkrc',
'vcU2qU4ivrU',
'98uzzzZCPfA',
'4Hsz8S5egt8',
'FmZ5N1Ryl7w',
'WlIlUslNnAU',
'SFArDthLRXw',
'-_J74TPuHZM',
'udztYdWL-qQ',
'imVZCYC4cDM',
'fANl0Gx8lno',
'biWOX0RLmH0',
'DsA9-vAnkiU',
'O06zzeyNvno',
'cgXeMMybTPM',
'5BjzQhKcY2A',
'Kw1SU6byW78',
'Qdk23z0W4tk',
'llBdKrcOIw8',
'ylAVpon6g4Q',
'1kK7O00Reks',
'DgegAXWMgAY',
'lF9lBNkz55Q',
'SepOsGE0VIA',
'cCx7Z2KylNc',
'ruATrSBv6dI',
'g7y7dEF6G4Y',
'qx9vLzjyuUA',
'kqQECrGNhYI',
'2JoyUnEEPo8',
'5Fd04-0FWx4',
'SQ_NXCSuLoI',
'qH6ZU6lFc9w',
'tUFxDvIVWPk',
'Hd4N7T8Ca6w',
'jmNT8IAUYrM',
'c43bW56JQ88',
'gC8WQ3TInn0',
'B1wvtGnFdsU',
'uf6LNaBxtAE',
'CsXSWlQ0VRo',
'lD7avJd6j_c',
'jGH7qXTcoiw',
'QV_VKOGAstQ',
'4Sj8pT0yVbk',
'zqowhsk0q1I',
'tXUcYwDc9OY',
'7pqFP8cm_Qs',
'yIWe2hGW5bE',
'W_4WVakfP-M',
'trpHQvNDbvA',
'vLAkupgg0jw',
'OdeYcCXqJHg',
'AK9CTz-8BdI',
'mZ9Qz3B7HK8',
'BqN2Q8L9dns',
'ZDE51PpHT0A',
'llxZcflf42Q',
'kTYG_21pmqY',
'J8LBHpzFW8c',
'3-fKfK3gf7o',
'wFjKyRUNxww',
'ND73rJsBs8w',
'ymN6eVii0aY',
'vrjE11pJTI4',
'DHz-6Kcr1Vg',
'oBTfa4EEgGc',
'4VvSWYWIAY4',
'pakE9v_Z0qM',
'drBlwzRhUjg',
'5gD3MGSfCgs',
'BRYuCOM_Mtg',
'XxbCY6gloIU',
'M7eDcD5SVrs',
'rQvkS021da0',
'dMn7qo-nrDI',
'5KFgmctyPpQ',
'GDwTF89ps-0',
'oFcfFWg10dY',
'VU0LjYGAuPw',
'jWNPipoQBlc',
'tfst12uddCM',
'RkWK-5W75JE',
'MDbRLZusQ1M',
'3vPJRxCT5d4',
'zJEkdUizYFE',
'O6H0KUh2ET8',
'P7B9tQiTpms',
'5E2o8KtpL60',
'yUDv-DLex10',
'exra7eS6leg',
'YUUj-6nowsI',
'iKqNHvEZBvU',
'adBMfhbuu9c',
'OUIFIQIL37Y',
'W_jEeRuVfB4',
'wECOVek8s98',
'77IOmEspBWM',
'zQXgiUjBju0',
't73kjqH56es',
'REbu22H5wAg',
'blB-c209yLY',
'w_WVUfhWIc0',
'8xnzK9sNzQA',
'UTWo-tSAv_c',
'xN4zCxm196g',
'5crV_IjqL0U',
'hKAh8ngjH_s',
'iez2SbLeYlU',
'yThIsxl-mzE',
'iMjTJkJOfsQ',
'891MWJ2Jt2A',
'jDnrG0rxCbA',
'jMS6mJMhbro',
'I61gb_ZEQyQ',
'3SF5aIk3vGE',
'6P1b2TTmVww',
'BtjJWTGobTg',
'xXYas3RTSII',
'kjYVxeQQWkg',
'gZUXdzzy678',
'W1AykepAffc',
'BTnVBw1Tg5g',
'eaZOdC7WrO8',
'ZDXX3XBJKL0',
'1ehCBwRZrxo',
'gvsfd1Y1B5I',
'FVSjpZkl-1o',
'xf2xDGCEkfI',
'R8yDRjcqwos',
'AIKU1uxOu3w',
's_LEbhGE7Qs',
'ksHOVO19OEI',
'9gTglLwOARE',
'vy3Hxc0vQjQ',
'li5z51b-fds',
'BQbP0ej_4ro',
'jrUOfkV1XJk',
'FsPu0YAFkE4',
'vs1aAGsf4_o',
'LlhO4sm6TnM',
'TyQsgxOc_hw',
'-FD7FkozFiY',
'tOG16x-lf-A',
'tbzOfYLhxe0',
'fGq-ph1Krro',
'HQmb20o4ZSc',
'FmBIJO6ERAI',
'kfOjom3sS6Y',
'UsaKlxrnvO8',
'--wofTNjUiY',
'61-4qzumV1g',
'eMVFr6rDnlk',
'xc25HNc7qG4',
'tLa7Oa3Z14w',
'cj78WW-0gz4',
'GD6aiL5awTw',
'xMPo9bsXqDI',
'sKXN2qjSezo',
'tCA-FP9Z7uw',
'_BxzGjIz4ww',
'pepof26dd3w',
'6V8S2p6FLn8',
'C-7fIvQ-3kM',
'6NmEjMpngDg',
'Nfp6j6039c8',
'_aH3X2g088Q',
'xA5x2Bv8u-w',
'F1Q7gdpCSdU',
'FUed6IgYB2M',
'55olQqHHnZE',
'm41Ofp0HBpg',
'nP_jodlU8j8',
'GIBDm4X3nD0',
'Dim_i2cnoqE',
'ub-FETGgchs',
'tAz-fAOd1g4',
'RAYyvk7wS_k',
'9fx8h3Dmzwo',
'D5icTFN9Z90',
'pkNhcpvLBC4',
'rURMDnfID1s',
'YVcEUV442a0',
'cE5bKGaapxY',
'4ySBikX-QwM',
'aztZTRwEEfE',
'dj9i_vV9qhU',
'C83RuaOBbpA',
'RM5tTZsNFWE',
'_vtZPTRGMFc',
'VrnaZ9ptcU4',
'xr3ovtblh6k',
'gwzvCDYFFAM',
'J-fSZgwH9C4',
'92EA0oBZ9F8',
'jcjSHijr-hE',
'NsqSaqMHI_4',
'3F56Mgw5vM0',
'8cxVqSs4D6s',
'Zc7wjmOGCyM',
'vbzKQ-8l1RU',
  ];
    const totalVideos = videoIds.length;


  let currentIndex = 0;
    const player = document.getElementById('player');
    const videoTitleElement = document.getElementById('videoTitle');
    const nextButton = document.getElementById('nextButton');
    const progressLast = document.getElementById('progressLast');
    const progressGoal = document.getElementById('progressGoal');
    const goalFlag = document.getElementById('goalFlag');

  // Function to load and play a video
  function playVideo(videoId) {
    player.innerHTML = ''; // Clear previous video
    const iframe = document.createElement('iframe');
    iframe.width = '100%'; // Fit 100% of its container
    iframe.height = '100%'; // Fit 100% of its container
    iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1?cc_load_policy=1&cc_lang_pref=th`;
    iframe.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';
    player.appendChild(iframe);
  }

  function preloadNextVideo() {
    const nextIndex = (currentIndex + 1) % videoIds.length;
    const img = new Image();
    img.src = `https://img.youtube.com/vi/${videoIds[nextIndex]}/0.jpg`;
    img.onload = function() {
      if (nextIndex === 0) {
        nextButton.style.display = 'none';
      } else {
        nextButton.style.display = 'block';
      }
    };
  }

  function updateProgress() {
        const progress = (currentIndex + 1) / totalVideos * 100;
        progressLast.style.width = `${progress}%`;

        if (currentIndex + 1 === totalVideos) { //จำนวนคลิปทั้งหมด
            progressGoal.style.width = '100%'; // Show goal bar fully
            goalFlag.style.display = 'block'; // Show goal flag
        } else {
            progressGoal.style.width = '0'; // Hide goal bar
            goalFlag.style.display = 'none'; // Hide goal flag
        }
    }

    playVideo(videoIds[currentIndex]);
    videoTitleElement.textContent = `บทเรียน: ${currentIndex + 1} / ${totalVideos}`;
    preloadNextVideo();
    updateProgress();

    nextButton.addEventListener('click', function() {
        confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 },
        });
        localStorage.setItem("editus_points", Number(localStorage.getItem("editus_points")) + 0.1);
        document.getElementById("point").innerHTML = `<img src="coin+.png" width="30%" class="animate__animated animate__bounceOutUp animate__slow">`
        
        var iframe = document.getElementById('drawFrame');
            iframe.src = iframe.src;

        currentIndex = (currentIndex + 1) % totalVideos;
        playVideo(videoIds[currentIndex]);
        videoTitleElement.textContent = `บทเรียน: ${currentIndex + 1} / ${totalVideos}`;
        preloadNextVideo();
        updateProgress();
        saveLastWatchedVideo();
    });

    function saveLastWatchedVideo() {
        localStorage.setItem('math/lastVideoIndex', currentIndex);
    }

    window.addEventListener('load', function() {
        const lastVideoIndex = localStorage.getItem('math/lastVideoIndex');
        if (lastVideoIndex !== null) {
            currentIndex = parseInt(lastVideoIndex);
            playVideo(videoIds[currentIndex]);
            videoTitleElement.textContent = `บทเรียน: ${currentIndex + 1} / ${totalVideos}`;
            preloadNextVideo();
            updateProgress();
        }
    });
</script>
</body>
</html>